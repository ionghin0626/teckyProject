<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <title>HiddenGame</title>
</head>

<style>

@font-face {
  font-family: "SoukouMincho";
  src: url("./SoukouMincho.ttf") format("truetype")
}

.container#firstContainer {
    /* padding: 0.5rem; */
    /* padding-top: 0.5rem; */
    /* background-color: black; */
    /* height: 100vh; */
    display: flex;
    justify-content: center;
    align-items: center;
}
.col {
    padding: 0.5rem;
}

.testFonts {
    font-family: soukouMincho;
    font-size: 6rem;
    /* font-weight: 900; */
    color: aliceblue;
    text-align: center;
}
.btn {
    margin: 0.2rem;
}


</style>

<body class="bg-dark">
<audio
src="bgm.mp3"
autoplay>
</audio>

    <embed name="bgm" src="bgm.mp3" loop="false" hidden="true" autostart="true">
    <div class="testFonts">第三使徒襲來</div>
    <div class="container" id="firstContainer">
        <div id='canvas'></div>
    </div>
    <div class="container text-center" id="secContainer">
        <div class="row">
            <div class="col-md">
            </div>
            <div class="col-md">
                <div class="btn-group" role="group" aria-label="Basic example">
                    <button class="btn btn-secondary theme" role="button" id="startButton">Start</a>
                    <button class="btn btn-secondary theme" role="button" id="pauseButton">Pause</a>
                    <button class="btn btn-secondary theme" role="button" id="nextButton">Step</a>
                    <button class="btn btn-secondary theme" role="button" id="resetButton">Reset</a>
                    <button class="btn btn-secondary theme" role="button" id="clearButton">Clear</a>
                </div>
            </div>
            <div class="col-md">
                <div class="btn-group" role="group" aria-label="Basic example">
                    <button class="btn btn-secondary" role="button" id="darkTheme">dark theme</a>
                    <button class="btn btn-outline-secondary bg-light" role="button" id="lightTheme">Light theme</a>
                </div>
            </div>
            <div class="col-md">
            </div>
        </div>
        <div class="row p-1">
            <div class="col-md text-bg-secondary slider">
                <label for="speed" class="form-label text-light m-0 speedSlider">Speed: 15fps</label>
                <input type="range" class="form-range" min="0" max="60" value="15" step="5" id="speedSlider">
            </div>

            <div class="col-md text-bg-secondary slider">
                <label for="dieLoneliness" class="form-label text-light m-0 dieLonelinessSlider">dieLoneliness: 2 neighbors</label>
                <input type="range" class="form-range" min="0" max="8" value="2" step="1" id="dieLoneliness">
            </div>

            <div class="col-md text-bg-secondary slider">
                <label for="dieOverpopulation" class="form-label text-light m-0 dieOverpopulationSlider">dieOverpopulation: 3 neighbors</label>
                <input type="range" class="form-range" min="0" max="8" value="3" step="1" id="dieOverpopulation">
            </div>

            <div class="col-md text-bg-secondary slider">
                <label for="bornReproduction" class="form-label text-light m-0 bornReproductionSlider">bornReproduction: 3 neighbors</label>
                <input type="range" class="form-range" min="0" max="8" value="3" step="1" id="bornReproduction">
            </div>
        </div>
    </div>

        


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.2.0/p5.js"></script>
    <script>
        let unitLength;
        let margin;
        let boxColor = 200;
        const strokeColor = 50;
        let columns;
        let rows;
        let currentBoard;
        let nextBoard;
        let startGame;
        let gametheme = 'dark';
        let fr = 15;
        let thirdAngle = [
    [
        [
            0,
            0,
            0,
            255
        ],
        [
            1,
            1,
            1,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            1,
            1,
            1,
            255
        ],
        [
            1,
            1,
            1,
            255
        ],
        [
            1,
            1,
            1,
            255
        ],
        [
            1,
            1,
            1,
            255
        ],
        [
            1,
            1,
            1,
            255
        ],
        [
            1,
            1,
            1,
            255
        ],
        [
            1,
            1,
            1,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            244,
            244,
            245,
            255
        ],
        [
            248,
            248,
            248,
            255
        ],
        [
            248,
            248,
            248,
            255
        ],
        [
            248,
            248,
            248,
            255
        ],
        [
            248,
            248,
            248,
            255
        ],
        [
            248,
            248,
            248,
            255
        ],
        [
            248,
            248,
            248,
            255
        ],
        [
            248,
            248,
            248,
            255
        ],
        [
            248,
            248,
            248,
            255
        ],
        [
            247,
            247,
            247,
            255
        ],
        [
            244,
            244,
            244,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ]
    ],
    [
        [
            0,
            0,
            0,
            255
        ],
        [
            45,
            45,
            45,
            255
        ],
        [
            244,
            244,
            244,
            255
        ],
        [
            244,
            244,
            244,
            255
        ],
        [
            244,
            244,
            244,
            255
        ],
        [
            244,
            244,
            244,
            255
        ],
        [
            207,
            212,
            217,
            255
        ],
        [
            207,
            212,
            218,
            255
        ],
        [
            193,
            194,
            197,
            255
        ],
        [
            193,
            194,
            197,
            255
        ],
        [
            193,
            194,
            198,
            255
        ],
        [
            152,
            154,
            162,
            255
        ],
        [
            26,
            28,
            43,
            255
        ],
        [
            26,
            28,
            43,
            255
        ],
        [
            26,
            28,
            43,
            255
        ],
        [
            26,
            28,
            43,
            255
        ],
        [
            26,
            28,
            43,
            255
        ],
        [
            26,
            28,
            43,
            255
        ],
        [
            26,
            28,
            43,
            255
        ],
        [
            26,
            28,
            43,
            255
        ],
        [
            77,
            78,
            89,
            255
        ],
        [
            240,
            240,
            240,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ]
    ],
    [
        [
            155,
            155,
            155,
            255
        ],
        [
            237,
            237,
            237,
            255
        ],
        [
            244,
            244,
            244,
            255
        ],
        [
            247,
            246,
            249,
            255
        ],
        [
            244,
            244,
            246,
            255
        ],
        [
            246,
            246,
            247,
            255
        ],
        [
            94,
            114,
            138,
            255
        ],
        [
            86,
            108,
            132,
            255
        ],
        [
            26,
            28,
            43,
            255
        ],
        [
            26,
            28,
            43,
            255
        ],
        [
            27,
            27,
            45,
            255
        ],
        [
            25,
            28,
            45,
            255
        ],
        [
            48,
            52,
            74,
            255
        ],
        [
            45,
            51,
            81,
            255
        ],
        [
            49,
            54,
            85,
            255
        ],
        [
            49,
            55,
            83,
            255
        ],
        [
            218,
            218,
            221,
            255
        ],
        [
            217,
            217,
            220,
            255
        ],
        [
            217,
            217,
            220,
            255
        ],
        [
            217,
            217,
            220,
            255
        ],
        [
            245,
            245,
            246,
            255
        ],
        [
            30,
            30,
            30,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ]
    ],
    [
        [
            244,
            244,
            244,
            255
        ],
        [
            244,
            244,
            244,
            255
        ],
        [
            244,
            244,
            244,
            255
        ],
        [
            245,
            243,
            244,
            255
        ],
        [
            25,
            27,
            42,
            255
        ],
        [
            64,
            64,
            77,
            255
        ],
        [
            97,
            113,
            138,
            255
        ],
        [
            83,
            109,
            139,
            255
        ],
        [
            26,
            28,
            43,
            255
        ],
        [
            26,
            28,
            43,
            255
        ],
        [
            48,
            60,
            85,
            255
        ],
        [
            52,
            59,
            87,
            255
        ],
        [
            28,
            34,
            48,
            255
        ],
        [
            24,
            28,
            39,
            255
        ],
        [
            245,
            246,
            243,
            255
        ],
        [
            243,
            243,
            243,
            255
        ],
        [
            232,
            232,
            232,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ]
    ],
    [
        [
            244,
            244,
            244,
            255
        ],
        [
            244,
            244,
            244,
            255
        ],
        [
            244,
            244,
            244,
            255
        ],
        [
            245,
            243,
            244,
            255
        ],
        [
            25,
            27,
            42,
            255
        ],
        [
            64,
            64,
            77,
            255
        ],
        [
            245,
            246,
            252,
            255
        ],
        [
            82,
            107,
            132,
            255
        ],
        [
            26,
            28,
            43,
            255
        ],
        [
            26,
            28,
            43,
            255
        ],
        [
            24,
            28,
            39,
            255
        ],
        [
            26,
            26,
            43,
            255
        ],
        [
            27,
            30,
            41,
            255
        ],
        [
            253,
            254,
            251,
            255
        ],
        [
            243,
            245,
            244,
            255
        ],
        [
            2,
            2,
            2,
            255
        ],
        [
            2,
            2,
            2,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ]
    ],
    [
        [
            244,
            244,
            244,
            255
        ],
        [
            245,
            245,
            243,
            255
        ],
        [
            26,
            29,
            48,
            255
        ],
        [
            243,
            243,
            243,
            255
        ],
        [
            243,
            244,
            240,
            255
        ],
        [
            244,
            244,
            244,
            255
        ],
        [
            96,
            113,
            141,
            255
        ],
        [
            83,
            109,
            137,
            255
        ],
        [
            31,
            30,
            48,
            255
        ],
        [
            48,
            60,
            87,
            255
        ],
        [
            25,
            28,
            45,
            255
        ],
        [
            72,
            72,
            82,
            255
        ],
        [
            244,
            244,
            242,
            255
        ],
        [
            246,
            246,
            246,
            255
        ],
        [
            1,
            1,
            1,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ]
    ],
    [
        [
            244,
            244,
            244,
            255
        ],
        [
            244,
            244,
            244,
            255
        ],
        [
            243,
            243,
            243,
            255
        ],
        [
            247,
            246,
            244,
            255
        ],
        [
            249,
            250,
            249,
            255
        ],
        [
            84,
            108,
            134,
            255
        ],
        [
            88,
            109,
            135,
            255
        ],
        [
            23,
            25,
            41,
            255
        ],
        [
            28,
            29,
            47,
            255
        ],
        [
            50,
            59,
            86,
            255
        ],
        [
            239,
            239,
            241,
            255
        ],
        [
            235,
            235,
            235,
            255
        ],
        [
            26,
            26,
            26,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            1,
            1,
            1,
            255
        ],
        [
            49,
            49,
            49,
            255
        ],
        [
            247,
            247,
            245,
            255
        ],
        [
            247,
            250,
            249,
            255
        ],
        [
            249,
            245,
            243,
            255
        ],
        [
            246,
            249,
            245,
            255
        ],
        [
            226,
            226,
            226,
            255
        ],
        [
            1,
            1,
            1,
            255
        ],
        [
            45,
            45,
            45,
            255
        ],
        [
            246,
            247,
            249,
            255
        ],
        [
            251,
            250,
            252,
            255
        ],
        [
            245,
            245,
            245,
            255
        ]
    ],
    [
        [
            244,
            244,
            244,
            255
        ],
        [
            244,
            245,
            244,
            255
        ],
        [
            206,
            215,
            217,
            255
        ],
        [
            207,
            214,
            221,
            255
        ],
        [
            74,
            89,
            112,
            255
        ],
        [
            63,
            73,
            93,
            255
        ],
        [
            31,
            35,
            54,
            255
        ],
        [
            30,
            35,
            53,
            255
        ],
        [
            49,
            59,
            84,
            255
        ],
        [
            46,
            53,
            75,
            255
        ],
        [
            231,
            230,
            230,
            255
        ],
        [
            40,
            40,
            40,
            255
        ],
        [
            43,
            43,
            43,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            1,
            1,
            1,
            255
        ],
        [
            39,
            39,
            39,
            255
        ],
        [
            228,
            230,
            230,
            255
        ],
        [
            172,
            175,
            182,
            255
        ],
        [
            81,
            100,
            122,
            255
        ],
        [
            74,
            89,
            109,
            255
        ],
        [
            87,
            105,
            137,
            255
        ],
        [
            244,
            244,
            244,
            255
        ],
        [
            245,
            245,
            244,
            255
        ],
        [
            191,
            191,
            195,
            255
        ],
        [
            42,
            44,
            56,
            255
        ],
        [
            27,
            28,
            46,
            255
        ],
        [
            243,
            243,
            243,
            255
        ]
    ],
    [
        [
            231,
            237,
            248,
            255
        ],
        [
            235,
            236,
            238,
            255
        ],
        [
            87,
            103,
            126,
            255
        ],
        [
            86,
            105,
            132,
            255
        ],
        [
            28,
            28,
            40,
            255
        ],
        [
            26,
            31,
            52,
            255
        ],
        [
            52,
            54,
            80,
            255
        ],
        [
            53,
            57,
            84,
            255
        ],
        [
            54,
            58,
            85,
            255
        ],
        [
            25,
            27,
            43,
            255
        ],
        [
            247,
            245,
            245,
            255
        ],
        [
            242,
            244,
            247,
            255
        ],
        [
            242,
            245,
            245,
            255
        ],
        [
            5,
            4,
            2,
            255
        ],
        [
            8,
            7,
            5,
            255
        ],
        [
            8,
            6,
            9,
            255
        ],
        [
            244,
            244,
            247,
            255
        ],
        [
            171,
            174,
            181,
            255
        ],
        [
            28,
            31,
            50,
            255
        ],
        [
            84,
            94,
            117,
            255
        ],
        [
            22,
            24,
            40,
            255
        ],
        [
            82,
            105,
            135,
            255
        ],
        [
            232,
            233,
            237,
            255
        ],
        [
            236,
            239,
            244,
            255
        ],
        [
            27,
            29,
            43,
            255
        ],
        [
            26,
            28,
            43,
            255
        ],
        [
            25,
            26,
            44,
            255
        ],
        [
            243,
            243,
            243,
            255
        ]
    ],
    [
        [
            218,
            222,
            235,
            255
        ],
        [
            34,
            37,
            55,
            255
        ],
        [
            25,
            28,
            44,
            255
        ],
        [
            28,
            25,
            40,
            255
        ],
        [
            40,
            49,
            73,
            255
        ],
        [
            217,
            220,
            222,
            255
        ],
        [
            89,
            103,
            123,
            255
        ],
        [
            24,
            26,
            43,
            255
        ],
        [
            29,
            28,
            45,
            255
        ],
        [
            28,
            30,
            43,
            255
        ],
        [
            57,
            56,
            72,
            255
        ],
        [
            92,
            92,
            103,
            255
        ],
        [
            240,
            240,
            239,
            255
        ],
        [
            103,
            123,
            143,
            255
        ],
        [
            107,
            127,
            147,
            255
        ],
        [
            56,
            57,
            70,
            255
        ],
        [
            58,
            60,
            72,
            255
        ],
        [
            28,
            30,
            45,
            255
        ],
        [
            30,
            31,
            46,
            255
        ],
        [
            27,
            26,
            46,
            255
        ],
        [
            81,
            100,
            124,
            255
        ],
        [
            34,
            41,
            62,
            255
        ],
        [
            26,
            28,
            44,
            255
        ],
        [
            25,
            26,
            44,
            255
        ],
        [
            26,
            28,
            44,
            255
        ],
        [
            26,
            28,
            43,
            255
        ],
        [
            25,
            26,
            44,
            255
        ],
        [
            243,
            243,
            243,
            255
        ]
    ],
    [
        [
            186,
            186,
            186,
            255
        ],
        [
            25,
            26,
            43,
            255
        ],
        [
            26,
            28,
            42,
            255
        ],
        [
            51,
            59,
            87,
            255
        ],
        [
            245,
            247,
            240,
            255
        ],
        [
            202,
            202,
            207,
            255
        ],
        [
            24,
            24,
            42,
            255
        ],
        [
            89,
            110,
            136,
            255
        ],
        [
            26,
            28,
            43,
            255
        ],
        [
            26,
            28,
            43,
            255
        ],
        [
            27,
            29,
            44,
            255
        ],
        [
            26,
            27,
            44,
            255
        ],
        [
            216,
            215,
            218,
            255
        ],
        [
            175,
            53,
            70,
            255
        ],
        [
            18,
            27,
            43,
            255
        ],
        [
            26,
            28,
            43,
            255
        ],
        [
            26,
            28,
            43,
            255
        ],
        [
            33,
            37,
            59,
            255
        ],
        [
            50,
            60,
            88,
            255
        ],
        [
            50,
            60,
            88,
            255
        ],
        [
            46,
            60,
            87,
            255
        ],
        [
            50,
            56,
            85,
            255
        ],
        [
            53,
            59,
            88,
            255
        ],
        [
            56,
            62,
            91,
            255
        ],
        [
            26,
            27,
            44,
            255
        ],
        [
            26,
            28,
            43,
            255
        ],
        [
            244,
            244,
            241,
            255
        ],
        [
            244,
            244,
            244,
            255
        ]
    ],
    [
        [
            180,
            180,
            180,
            255
        ],
        [
            24,
            25,
            41,
            255
        ],
        [
            50,
            59,
            91,
            255
        ],
        [
            245,
            244,
            240,
            255
        ],
        [
            245,
            245,
            248,
            255
        ],
        [
            211,
            209,
            219,
            255
        ],
        [
            26,
            29,
            46,
            255
        ],
        [
            246,
            247,
            239,
            255
        ],
        [
            89,
            106,
            140,
            255
        ],
        [
            90,
            102,
            132,
            255
        ],
        [
            30,
            26,
            45,
            255
        ],
        [
            73,
            48,
            55,
            255
        ],
        [
            187,
            68,
            90,
            255
        ],
        [
            182,
            64,
            84,
            255
        ],
        [
            177,
            63,
            80,
            255
        ],
        [
            29,
            27,
            48,
            255
        ],
        [
            51,
            60,
            89,
            255
        ],
        [
            45,
            50,
            74,
            255
        ],
        [
            26,
            25,
            39,
            255
        ],
        [
            28,
            28,
            42,
            255
        ],
        [
            27,
            27,
            41,
            255
        ],
        [
            25,
            25,
            39,
            255
        ],
        [
            22,
            25,
            42,
            255
        ],
        [
            52,
            61,
            94,
            255
        ],
        [
            46,
            53,
            77,
            255
        ],
        [
            219,
            220,
            222,
            255
        ],
        [
            247,
            247,
            247,
            255
        ],
        [
            0,
            0,
            0,
            255
        ]
    ],
    [
        [
            180,
            180,
            180,
            255
        ],
        [
            22,
            24,
            37,
            255
        ],
        [
            49,
            60,
            89,
            255
        ],
        [
            244,
            244,
            244,
            255
        ],
        [
            244,
            244,
            244,
            255
        ],
        [
            244,
            244,
            244,
            255
        ],
        [
            244,
            244,
            244,
            255
        ],
        [
            244,
            244,
            244,
            255
        ],
        [
            240,
            245,
            244,
            255
        ],
        [
            83,
            103,
            131,
            255
        ],
        [
            81,
            104,
            130,
            255
        ],
        [
            80,
            103,
            129,
            255
        ],
        [
            84,
            103,
            131,
            255
        ],
        [
            178,
            60,
            81,
            255
        ],
        [
            177,
            62,
            83,
            255
        ],
        [
            179,
            61,
            83,
            255
        ],
        [
            26,
            26,
            43,
            255
        ],
        [
            51,
            61,
            88,
            255
        ],
        [
            51,
            55,
            80,
            255
        ],
        [
            26,
            28,
            45,
            255
        ],
        [
            26,
            28,
            43,
            255
        ],
        [
            243,
            243,
            242,
            255
        ],
        [
            244,
            244,
            244,
            255
        ],
        [
            244,
            244,
            244,
            255
        ],
        [
            244,
            244,
            244,
            255
        ],
        [
            243,
            243,
            243,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ]
    ],
    [
        [
            180,
            180,
            180,
            255
        ],
        [
            49,
            61,
            85,
            255
        ],
        [
            50,
            60,
            88,
            255
        ],
        [
            242,
            243,
            241,
            255
        ],
        [
            245,
            245,
            243,
            255
        ],
        [
            242,
            243,
            241,
            255
        ],
        [
            246,
            246,
            245,
            255
        ],
        [
            243,
            246,
            242,
            255
        ],
        [
            246,
            244,
            244,
            255
        ],
        [
            245,
            244,
            246,
            255
        ],
        [
            244,
            246,
            242,
            255
        ],
        [
            245,
            247,
            249,
            255
        ],
        [
            245,
            247,
            239,
            255
        ],
        [
            169,
            53,
            78,
            255
        ],
        [
            177,
            63,
            88,
            255
        ],
        [
            177,
            62,
            80,
            255
        ],
        [
            21,
            24,
            40,
            255
        ],
        [
            50,
            61,
            87,
            255
        ],
        [
            53,
            55,
            80,
            255
        ],
        [
            24,
            27,
            44,
            255
        ],
        [
            27,
            30,
            43,
            255
        ],
        [
            252,
            252,
            249,
            255
        ],
        [
            246,
            246,
            245,
            255
        ],
        [
            246,
            242,
            247,
            255
        ],
        [
            249,
            248,
            245,
            255
        ],
        [
            246,
            246,
            242,
            255
        ],
        [
            1,
            1,
            1,
            255
        ],
        [
            0,
            0,
            0,
            255
        ]
    ],
    [
        [
            180,
            180,
            180,
            255
        ],
        [
            49,
            61,
            86,
            255
        ],
        [
            52,
            62,
            89,
            255
        ],
        [
            210,
            215,
            219,
            255
        ],
        [
            244,
            245,
            242,
            255
        ],
        [
            204,
            205,
            206,
            255
        ],
        [
            26,
            28,
            44,
            255
        ],
        [
            226,
            237,
            239,
            255
        ],
        [
            128,
            156,
            175,
            255
        ],
        [
            128,
            156,
            175,
            255
        ],
        [
            25,
            32,
            49,
            255
        ],
        [
            66,
            40,
            55,
            255
        ],
        [
            233,
            136,
            107,
            255
        ],
        [
            223,
            120,
            85,
            255
        ],
        [
            155,
            58,
            82,
            255
        ],
        [
            26,
            31,
            47,
            255
        ],
        [
            52,
            62,
            88,
            255
        ],
        [
            42,
            48,
            69,
            255
        ],
        [
            28,
            34,
            51,
            255
        ],
        [
            27,
            32,
            51,
            255
        ],
        [
            27,
            32,
            52,
            255
        ],
        [
            30,
            34,
            53,
            255
        ],
        [
            29,
            33,
            50,
            255
        ],
        [
            50,
            61,
            86,
            255
        ],
        [
            46,
            51,
            70,
            255
        ],
        [
            184,
            185,
            189,
            255
        ],
        [
            247,
            247,
            247,
            255
        ],
        [
            31,
            31,
            31,
            255
        ]
    ],
    [
        [
            190,
            190,
            190,
            255
        ],
        [
            28,
            32,
            47,
            255
        ],
        [
            50,
            60,
            87,
            255
        ],
        [
            53,
            60,
            83,
            255
        ],
        [
            82,
            86,
            112,
            255
        ],
        [
            240,
            239,
            243,
            255
        ],
        [
            137,
            155,
            168,
            255
        ],
        [
            48,
            51,
            69,
            255
        ],
        [
            45,
            54,
            78,
            255
        ],
        [
            45,
            54,
            78,
            255
        ],
        [
            50,
            60,
            85,
            255
        ],
        [
            87,
            94,
            112,
            255
        ],
        [
            242,
            242,
            245,
            255
        ],
        [
            142,
            152,
            170,
            255
        ],
        [
            126,
            146,
            164,
            255
        ],
        [
            32,
            32,
            53,
            255
        ],
        [
            51,
            58,
            85,
            255
        ],
        [
            47,
            54,
            78,
            255
        ],
        [
            47,
            54,
            77,
            255
        ],
        [
            47,
            57,
            81,
            255
        ],
        [
            135,
            154,
            176,
            255
        ],
        [
            53,
            59,
            88,
            255
        ],
        [
            50,
            60,
            87,
            255
        ],
        [
            53,
            60,
            89,
            255
        ],
        [
            47,
            54,
            76,
            255
        ],
        [
            26,
            28,
            43,
            255
        ],
        [
            64,
            65,
            77,
            255
        ],
        [
            244,
            244,
            244,
            255
        ]
    ],
    [
        [
            146,
            172,
            186,
            255
        ],
        [
            153,
            177,
            199,
            255
        ],
        [
            28,
            24,
            41,
            255
        ],
        [
            25,
            27,
            40,
            255
        ],
        [
            50,
            60,
            89,
            255
        ],
        [
            46,
            55,
            88,
            255
        ],
        [
            50,
            61,
            89,
            255
        ],
        [
            51,
            60,
            89,
            255
        ],
        [
            50,
            60,
            87,
            255
        ],
        [
            50,
            60,
            87,
            255
        ],
        [
            241,
            241,
            240,
            255
        ],
        [
            218,
            231,
            235,
            255
        ],
        [
            228,
            238,
            243,
            255
        ],
        [
            244,
            244,
            244,
            255
        ],
        [
            244,
            244,
            244,
            255
        ],
        [
            243,
            243,
            241,
            255
        ],
        [
            245,
            247,
            238,
            255
        ],
        [
            48,
            53,
            77,
            255
        ],
        [
            36,
            50,
            69,
            255
        ],
        [
            62,
            72,
            100,
            255
        ],
        [
            50,
            58,
            84,
            255
        ],
        [
            249,
            244,
            244,
            255
        ],
        [
            52,
            60,
            89,
            255
        ],
        [
            27,
            31,
            43,
            255
        ],
        [
            24,
            26,
            39,
            255
        ],
        [
            26,
            28,
            43,
            255
        ],
        [
            26,
            28,
            43,
            255
        ],
        [
            243,
            243,
            243,
            255
        ]
    ],
    [
        [
            245,
            245,
            245,
            255
        ],
        [
            245,
            243,
            241,
            255
        ],
        [
            146,
            175,
            196,
            255
        ],
        [
            150,
            177,
            198,
            255
        ],
        [
            27,
            28,
            42,
            255
        ],
        [
            31,
            32,
            53,
            255
        ],
        [
            49,
            59,
            88,
            255
        ],
        [
            53,
            60,
            88,
            255
        ],
        [
            50,
            60,
            87,
            255
        ],
        [
            50,
            60,
            87,
            255
        ],
        [
            242,
            244,
            242,
            255
        ],
        [
            246,
            246,
            246,
            255
        ],
        [
            247,
            247,
            247,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            246,
            246,
            246,
            255
        ],
        [
            181,
            179,
            187,
            255
        ],
        [
            28,
            32,
            44,
            255
        ],
        [
            225,
            227,
            230,
            255
        ],
        [
            49,
            54,
            87,
            255
        ],
        [
            152,
            176,
            194,
            255
        ],
        [
            244,
            244,
            244,
            255
        ],
        [
            249,
            249,
            248,
            255
        ],
        [
            25,
            28,
            44,
            255
        ],
        [
            27,
            29,
            45,
            255
        ],
        [
            26,
            27,
            45,
            255
        ],
        [
            243,
            243,
            243,
            255
        ]
    ],
    [
        [
            244,
            244,
            244,
            255
        ],
        [
            244,
            244,
            245,
            255
        ],
        [
            246,
            244,
            242,
            255
        ],
        [
            148,
            175,
            191,
            255
        ],
        [
            147,
            176,
            191,
            255
        ],
        [
            131,
            150,
            166,
            255
        ],
        [
            24,
            31,
            44,
            255
        ],
        [
            50,
            59,
            87,
            255
        ],
        [
            49,
            58,
            90,
            255
        ],
        [
            50,
            62,
            86,
            255
        ],
        [
            231,
            233,
            231,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            246,
            246,
            246,
            255
        ],
        [
            219,
            224,
            226,
            255
        ],
        [
            227,
            230,
            227,
            255
        ],
        [
            244,
            244,
            244,
            255
        ],
        [
            145,
            176,
            202,
            255
        ],
        [
            244,
            244,
            244,
            255
        ],
        [
            245,
            245,
            244,
            255
        ],
        [
            244,
            244,
            243,
            255
        ],
        [
            45,
            46,
            58,
            255
        ],
        [
            29,
            31,
            51,
            255
        ],
        [
            244,
            244,
            244,
            255
        ]
    ],
    [
        [
            244,
            244,
            244,
            255
        ],
        [
            244,
            244,
            244,
            255
        ],
        [
            244,
            247,
            248,
            255
        ],
        [
            242,
            245,
            248,
            255
        ],
        [
            245,
            248,
            251,
            255
        ],
        [
            152,
            177,
            199,
            255
        ],
        [
            148,
            174,
            195,
            255
        ],
        [
            22,
            26,
            44,
            255
        ],
        [
            27,
            26,
            42,
            255
        ],
        [
            49,
            60,
            87,
            255
        ],
        [
            244,
            245,
            243,
            255
        ],
        [
            247,
            247,
            247,
            255
        ],
        [
            26,
            26,
            26,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            4,
            4,
            4,
            255
        ],
        [
            51,
            51,
            51,
            255
        ],
        [
            243,
            242,
            244,
            255
        ],
        [
            242,
            241,
            244,
            255
        ],
        [
            240,
            240,
            240,
            255
        ],
        [
            241,
            244,
            243,
            255
        ],
        [
            224,
            224,
            224,
            255
        ],
        [
            2,
            2,
            2,
            255
        ],
        [
            47,
            47,
            47,
            255
        ],
        [
            236,
            236,
            234,
            255
        ],
        [
            240,
            240,
            240,
            255
        ],
        [
            240,
            240,
            240,
            255
        ]
    ],
    [
        [
            244,
            244,
            244,
            255
        ],
        [
            243,
            243,
            243,
            255
        ],
        [
            60,
            61,
            74,
            255
        ],
        [
            243,
            244,
            241,
            255
        ],
        [
            207,
            208,
            211,
            255
        ],
        [
            213,
            212,
            215,
            255
        ],
        [
            243,
            244,
            245,
            255
        ],
        [
            145,
            175,
            195,
            255
        ],
        [
            25,
            28,
            45,
            255
        ],
        [
            49,
            61,
            87,
            255
        ],
        [
            30,
            31,
            49,
            255
        ],
        [
            64,
            66,
            79,
            255
        ],
        [
            206,
            205,
            210,
            255
        ],
        [
            250,
            250,
            250,
            255
        ],
        [
            29,
            29,
            29,
            255
        ],
        [
            2,
            2,
            2,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            1,
            1,
            1,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            1,
            1,
            1,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ]
    ],
    [
        [
            244,
            244,
            244,
            255
        ],
        [
            244,
            244,
            244,
            255
        ],
        [
            244,
            244,
            244,
            255
        ],
        [
            247,
            245,
            246,
            255
        ],
        [
            26,
            28,
            43,
            255
        ],
        [
            67,
            67,
            80,
            255
        ],
        [
            244,
            244,
            246,
            255
        ],
        [
            145,
            175,
            195,
            255
        ],
        [
            24,
            27,
            46,
            255
        ],
        [
            51,
            59,
            88,
            255
        ],
        [
            50,
            56,
            79,
            255
        ],
        [
            51,
            57,
            80,
            255
        ],
        [
            28,
            30,
            46,
            255
        ],
        [
            46,
            46,
            58,
            255
        ],
        [
            245,
            245,
            246,
            255
        ],
        [
            155,
            155,
            155,
            255
        ],
        [
            151,
            151,
            151,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ]
    ],
    [
        [
            185,
            185,
            185,
            255
        ],
        [
            241,
            241,
            241,
            255
        ],
        [
            244,
            244,
            244,
            255
        ],
        [
            245,
            245,
            245,
            255
        ],
        [
            250,
            250,
            250,
            255
        ],
        [
            248,
            248,
            248,
            255
        ],
        [
            244,
            244,
            246,
            255
        ],
        [
            145,
            175,
            195,
            255
        ],
        [
            26,
            25,
            43,
            255
        ],
        [
            49,
            60,
            86,
            255
        ],
        [
            51,
            60,
            88,
            255
        ],
        [
            50,
            60,
            87,
            255
        ],
        [
            52,
            62,
            89,
            255
        ],
        [
            56,
            64,
            90,
            255
        ],
        [
            46,
            54,
            80,
            255
        ],
        [
            46,
            53,
            80,
            255
        ],
        [
            243,
            243,
            240,
            255
        ],
        [
            232,
            232,
            229,
            255
        ],
        [
            232,
            232,
            229,
            255
        ],
        [
            232,
            232,
            229,
            255
        ],
        [
            235,
            235,
            236,
            255
        ],
        [
            1,
            1,
            1,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ]
    ],
    [
        [
            1,
            1,
            1,
            255
        ],
        [
            238,
            238,
            238,
            255
        ],
        [
            243,
            243,
            243,
            255
        ],
        [
            242,
            242,
            242,
            255
        ],
        [
            243,
            243,
            243,
            255
        ],
        [
            242,
            242,
            242,
            255
        ],
        [
            245,
            245,
            245,
            255
        ],
        [
            144,
            176,
            194,
            255
        ],
        [
            25,
            28,
            44,
            255
        ],
        [
            26,
            28,
            43,
            255
        ],
        [
            25,
            28,
            42,
            255
        ],
        [
            31,
            35,
            56,
            255
        ],
        [
            50,
            60,
            85,
            255
        ],
        [
            51,
            61,
            86,
            255
        ],
        [
            50,
            60,
            86,
            255
        ],
        [
            50,
            60,
            86,
            255
        ],
        [
            49,
            59,
            85,
            255
        ],
        [
            50,
            60,
            86,
            255
        ],
        [
            50,
            60,
            86,
            255
        ],
        [
            50,
            60,
            86,
            255
        ],
        [
            246,
            248,
            242,
            255
        ],
        [
            245,
            245,
            245,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ]
    ],
    [
        [
            0,
            0,
            0,
            255
        ],
        [
            2,
            2,
            2,
            255
        ],
        [
            246,
            246,
            246,
            255
        ],
        [
            244,
            244,
            244,
            255
        ],
        [
            244,
            244,
            244,
            255
        ],
        [
            244,
            244,
            244,
            255
        ],
        [
            245,
            245,
            245,
            255
        ],
        [
            242,
            243,
            247,
            255
        ],
        [
            245,
            245,
            245,
            255
        ],
        [
            245,
            245,
            245,
            255
        ],
        [
            245,
            245,
            244,
            255
        ],
        [
            199,
            200,
            204,
            255
        ],
        [
            26,
            28,
            43,
            255
        ],
        [
            26,
            28,
            43,
            255
        ],
        [
            26,
            28,
            43,
            255
        ],
        [
            26,
            28,
            43,
            255
        ],
        [
            25,
            27,
            42,
            255
        ],
        [
            26,
            28,
            43,
            255
        ],
        [
            26,
            28,
            43,
            255
        ],
        [
            26,
            28,
            43,
            255
        ],
        [
            27,
            28,
            48,
            255
        ],
        [
            247,
            247,
            245,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ]
    ],
    [
        [
            0,
            0,
            0,
            255
        ],
        [
            1,
            1,
            1,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            1,
            1,
            1,
            255
        ],
        [
            236,
            236,
            238,
            255
        ],
        [
            237,
            237,
            236,
            255
        ],
        [
            237,
            237,
            236,
            255
        ],
        [
            237,
            237,
            236,
            255
        ],
        [
            237,
            237,
            236,
            255
        ],
        [
            237,
            237,
            236,
            255
        ],
        [
            237,
            237,
            236,
            255
        ],
        [
            237,
            237,
            236,
            255
        ],
        [
            237,
            237,
            236,
            255
        ],
        [
            237,
            237,
            235,
            255
        ],
        [
            238,
            238,
            238,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ],
        [
            0,
            0,
            0,
            255
        ]
    ]
]
        let angleLife;
        let win = false;

        function setup() {
            CalCanvasWidth()
            const canvas = createCanvas(setWidth, setHeight);
            canvas.parent(document.querySelector('#canvas'));

            columns = floor(width / unitLength);
            rows = floor(height / unitLength);

            currentBoard = [];
            nextBoard = [];
            for (let i = 0; i < columns; i++) {
                currentBoard[i] = [];
                nextBoard[i] = []
            }
            frameRate(fr);
            init(set);
        }

        function CalCanvasWidth() {
            if (windowWidth<768) {
                unitLength = (windowWidth)/25
                setWidth = unitLength*25
                setHeight = setWidth
            } else {
                unitLength = 15
                setWidth = unitLength*floor((windowWidth - 200)/unitLength)
                setHeight = unitLength*floor((windowHeight - 200)/unitLength)
                // setWidth = setHeight
            }
        }
        function windowResized() {
            CalCanvasWidth()
            resizeCanvas(setWidth, setHeight);
            columns = floor(width / unitLength);
            rows = floor(height / unitLength);
            for (let i = 0; i < columns; i++) {
            if (currentBoard[i] === undefined) {
                currentBoard[i] = [];
                nextBoard[i] = [];
            }
            for (let j = 0; j < rows; j++) {
                if (currentBoard[i][j] === undefined) {
                    currentBoard[i][j] = { color: [0, 0, 0], life: 0 };
                    nextBoard[i][j] = { color: [0, 0, 0], life: 0 };
                }
            }
            }
        }
        function init(type) {
            for (let i = 0; i < columns; i++) {
                for (let j = 0; j < rows; j++) {
                    currentBoard[i][j] = { color: [0, 0, 0], life:0 };
                       nextBoard[i][j] = { color: [0, 0, 0], life:0 };
                    if (thirdAngle[i] !== undefined && thirdAngle[i][j] !== undefined) {
                        currentBoard[i][j] = { color: [0, 0, 0],colorhide: thirdAngle[i][j], life: 1 };
                        nextBoard[i][j] = { color: [0, 0, 0],colorhide: thirdAngle[i][j], life: 1 };
                    } else {
                        currentBoard[i][j] = { color: [0, 0, 0], colorhide: [0, 0, 0],life:0 };
                       nextBoard[i][j] = { color: [0, 0, 0], colorhide: [0, 0, 0],life:0 };
                    }
                }
            }
        }

        function draw() {
        background(0);
        generate();
        
        for (let i = 0; i < columns; i++) {
          for (let j = 0; j < rows; j++) {
            if (currentBoard[i][j].life == 0) {
                fill(currentBoard[i][j].color);
            } else if (currentBoard[i][j].life == 1) {
                fill(currentBoard[i][j].colorhide)
            }

            stroke(strokeColor);
            rect(i * unitLength, j * unitLength, unitLength, unitLength);
          }
        }
      }

      function generate() {
        let angleLife = 0;
        for (let x = 0; x < columns; x++) {
          for (let y = 0; y < rows; y++) {
            let neighbors = { red: 0, green: 0, blue: 0 };
            for (let i of [-1, 0, 1]) {
              for (let j of [-1, 0, 1]) {
                if (i == 0 && j == 0) {
                  continue;
                }
                nowBox =
                  currentBoard[(x + i + columns) % columns][
                    (y + j + rows) % rows
                  ];
                if (nowBox.color[0] == 255) {
                  neighbors.red++;
                }
                if (nowBox.color[1] == 255) {
                  neighbors.green++;
                }
                if (nowBox.color[2] == 255) {
                  neighbors.blue++;
                }
              }
            }
            currentBox = currentBoard[x][y];
            nextBox = nextBoard[x][y];
            //red
            if (currentBox.color[0] == 255 && neighbors.red < 2) {
              nextBox.color[0] = 0;
              if (currentBox.life == 1) {
                currentBox.life = 0
                nextBox.life = 0;
              }
            } else if (currentBox.color[0] == 255 && neighbors.red > 3) {
              nextBox.color[0] = 0;
              if (currentBox.life == 1) {
                currentBox.life = 0
                nextBox.life = 0;
              }
            } else if (currentBox.color[0] == 0 && neighbors.red == 3) {
              nextBox.color[0] = 255;
            } else {
              nextBox.color[0] = currentBox.color[0];
            }

            if (nextBox.life == 1) {
                angleLife++
            }
            //green
            // if (currentBox.color[1] == 255 && neighbors.green < 2) {
            //   nextBox.color[1] = 0;
            // } else if (currentBox.color[1] == 255 && neighbors.green > 3) {
            //   nextBox.color[1] = 0;
            // } else if (currentBox.color[1] == 0 && neighbors.green == 3) {
            //   nextBox.color[1] = 255;
            // } else {
            //   nextBox.color[1] = currentBox.color[1];
            // }
            // //blue
            // if (currentBox.color[2] == 255 && neighbors.blue < 2) {
            //   nextBox.color[2] = 0;
            // } else if (currentBox.color[2] == 255 && neighbors.blue > 3) {
            //   nextBox.color[2] = 0;
            // } else if (currentBox.color[2] == 0 && neighbors.blue == 3) {
            //   nextBox.color[2] = 255;
            // } else {
            //   nextBox.color[2] = currentBox.color[2];
            // }
          }
        }
        if (angleLife = 0) {
            win = true
            noLoop()
        }
        [currentBoard, nextBoard] = [nextBoard, currentBoard];

      }

      function randomColor() {
        if (Math.random() < 0.5) {
          return 255;
        }
        if (Math.random() >= 0.5) {
          return 0;
        }
      }
      function mouseDragged() {
        if (mouseX > unitLength * columns || mouseY > unitLength * rows) {
          return;
        }
        const x = Math.floor(mouseX / unitLength);
        const y = Math.floor(mouseY / unitLength);

        genColorRed = randomColor();

        // console.log({genColorRed,genColorGreen,genColorBlue});
        currentBoard[x][y].color = [255,0,0];
        fill(
          currentBoard[x][y].color
        );
        stroke(strokeColor);
        rect(x * unitLength, y * unitLength, unitLength, unitLength);
      }

        function mousePressed() {
            if (mouseX > unitLength * columns || mouseY > unitLength * rows || mouseButton === RIGHT) {
                return;
            }
            noLoop();
            mouseDragged();
        }

        function mouseReleased() {
            if (mouseX > unitLength * columns || mouseY > unitLength * rows) {
                return;
            }
        }


    </script>
    <script>
        firstContainer = document.querySelector("firstContainer")

        //button
        startButton = document.querySelector('#startButton').addEventListener('click', function(){loop()})
        pauseButton = document.querySelector('#pauseButton').addEventListener('click', function(){noLoop()})
        nextButton = document.querySelector('#nextButton').addEventListener('click', function(){noLoop();draw()})
        nextButton = document.querySelector('#resetButton').addEventListener('click', function(){init(set);loop()})
        nextButton = document.querySelector('#clearButton').addEventListener('click', function(){init(clear);loop()})
        darkThemeButton = document.querySelector('#darkTheme').addEventListener('click', function(){switchTheme('dark')})
        lightThemeButton = document.querySelector('#lightTheme').addEventListener('click', function(){switchTheme('light')})
        buttonTheme = document.querySelectorAll('.theme')
        
        //rule
        dieLoneliness = document.querySelector('#dieLoneliness')
        dieOverpopulation = document.querySelector('#dieOverpopulation')
        bornReproduction = document.querySelector('#bornReproduction')
        dieLoneliness.addEventListener('click', function(){
            document.querySelector('.dieLonelinessSlider').textContent = `dieLoneliness: ${dieLoneliness.value} neighbors`})
        dieOverpopulation.addEventListener('click', function(){
            document.querySelector('.dieOverpopulationSlider').textContent = `dieOverpopulation: ${dieOverpopulation.value} neighbors`})
        bornReproduction.addEventListener('click', function(){
            document.querySelector('.bornReproductionSlider').textContent = `bornReproduction: ${bornReproduction.value} neighbors`})

        wholeBody = document.querySelector('body')

        //speed
        speedSlider = document.querySelector("#speedSlider")
        speedSlider.addEventListener('click', function(){changeFrameRate()})
        function changeFrameRate() {
            document.querySelector('.speedSlider').textContent = `Speed: ${speedSlider.value}fps`
            fr = parseInt(speedSlider.value)
            frameRate(fr)
        }

        function switchTheme(newTheme) {
            gametheme = newTheme
            sliders = document.querySelectorAll('label')
            if (newTheme == 'dark') {
                for (let button of buttonTheme) {
                button.classList.replace('btn-primary','btn-secondary')
            }
                for (let slider of sliders) {
                    slider.classList.replace('text-secondary','text-light')
                }
                boxColor = 200
                wholeBody.classList.replace('bg-light','bg-dark')   
            }
            if (newTheme == 'light') {
                for (let button of buttonTheme) {
                button.classList.replace('btn-secondary','btn-primary')
            }
                for (let slider of sliders) {
                    slider.classList.replace('text-light','text-secondary')
            }
                boxColor = 0
                wholeBody.classList.replace('bg-dark','bg-light')
            }
        }
    </script>

</body>

</html>